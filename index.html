<!DOCTYPE html>
<html lang="en">
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meetup Chat</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background: #FFD6E8;
  height: 100vh;
  display: flex;
  flex-direction: column;
  padding: 12px;
}

/* CHAT AREA */
#chat {
  flex: 1;
  overflow-y: auto;
  padding: 14px 10px;
  margin-bottom: 22vh;
}

/* MESSAGE BUBBLES */
.msg {
  max-width: 75%;
  padding: 10px 14px;
  border-radius: 16px;
  margin-bottom: 6px;
  font-size: 15px;
  animation: fadeIn .25s ease;
}

.bot {
  background: #fff;
}

.user {
  background: #DCF8C6;
  margin-left: auto;
}

/* REPLY BUTTONS */
.reply-wrap {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-bottom: 14px;
}

.reply {
  background: linear-gradient(#FFB6D5, #FF8FC1);
  border: none;
  border-radius: 999px;
  padding: 8px 14px;
  font-size: 14px;
  cursor: pointer;
  box-shadow: 0 4px 0 #E07AA9;
}

.reply:active {
  transform: translateY(2px);
  box-shadow: 0 2px 0 #E07AA9;
}

/* INPUT */
.input-box {
  margin-top: 10px;
  animation: fadeIn .25s ease;
}

.input-box input {
  width: 100%;
  padding: 12px;
  border-radius: 14px;
  border: none;
  font-size: 15px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  outline: none;
}

/* TYPING */
.typing {
  background: #fff;
  padding: 10px 14px;
  border-radius: 16px;
  display: inline-flex;
  gap: 4px;
  margin-bottom: 10px;
}

.dot {
  width: 6px;
  height: 6px;
  background: #999;
  border-radius: 50%;
  animation: blink 1.4s infinite both;
}

/* BUNNY */
.bunny-panel {
  position: fixed;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
  display: flex;
  justify-content: center;
  pointer-events: none;
}

.bunny-panel img {
  height: 20vh;
  animation: bunnyBlink 6s infinite;
}

.bunny-wrap {
  animation: bunnyIdle 3s ease-in-out infinite;
}
.chat-header {
  position: sticky;
  top: 0;
  background: #FFD6E8;
  padding: 10px 12px;
  border-bottom: 1px solid rgba(0,0,0,0.05);
  z-index: 10;

  display: flex;
  align-items: center;
  justify-content: space-between;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 10px;
}

.header-bunny {
  font-size: 26px;
}

.header-name {
  font-weight: 600;
  font-size: 15px;
}

.header-sub {
  font-size: 12px;
  color: #555;
}

.header-bunny {
  width: 34px;
  height: 34px;
  border-radius: 50%;
  overflow: hidden;
  background: rgba(255,255,255,0.6);
  display: flex;
  align-items: center;
  justify-content: center;
}

.refresh-btn {
  background: rgba(255,255,255,0.6);
  border: none;
  border-radius: 50%;
  width: 34px;
  height: 34px;
  font-size: 18px;
  cursor: pointer;

  display: flex;
  align-items: center;
  justify-content: center;
}

.refresh-btn:active {
  transform: scale(0.92);
}

</style>

</head>

<body>

<div class="top-bar">
  <button class="refresh" onclick="location.reload()">ðŸ”„</button>
</div>

 <div class="chat-header">
  <div class="header-left">
    <div class="header-bunny">
      <lottie-player
        src="bunny.json"
        background="transparent"
        speed="0.6"
        style="width:34px;height:34px"
        autoplay
        loop>
      </lottie-player>
    </div>

    <div class="header-text">
      <div class="header-name">Bunny</div>
      <div class="header-sub">Meetup Chat Â· here with you</div>
    </div>
  </div>

  <button class="refresh-btn" onclick="location.reload()">ðŸ”„</button>
</div>

<div id="chat"></div>

<div class="bunny-panel">
  <div class="bunny-wrap">
    <lottie-player
      id="bunny"
      src="bunny.json"
      background="transparent"
      speed="1"
      loop
      autoplay
      style="height: 20vh;">
    </lottie-player>
  </div>
</div>

<script>
const chat = document.getElementById("chat");

function bot(text) {
  const d = document.createElement("div");
  d.className = "msg bot";
  d.textContent = text;
  chat.appendChild(d);
  chat.scrollTop = chat.scrollHeight;
}

function user(text) {
  const d = document.createElement("div");
  d.className = "msg user";
  d.textContent = text;
  chat.appendChild(d);
  chat.scrollTop = chat.scrollHeight;
}

function typing(next) {
  const t = document.createElement("div");
  t.className = "typing";
  t.innerHTML = `<div class="dot"></div><div class="dot"></div><div class="dot"></div>`;
  chat.appendChild(t);
  chat.scrollTop = chat.scrollHeight;

  setTimeout(() => {
    t.remove();
    next();
  }, 900);
}

function replies(list) {
  const wrap = document.createElement("div");
  wrap.className = "reply-wrap";

  list.forEach(item => {
    const b = document.createElement("button");
    b.className = "reply";
    b.textContent = item.text;
    b.onclick = () => {
      wrap.remove();
      user(item.text);
      typing(item.next);
    };
    wrap.appendChild(b);
  });

  chat.appendChild(wrap);
}

/* CONTACT INPUT */
function contactInput(type) {
  bot(`If you feel comfortable, we can continue this on ${type}.`);

  setTimeout(() => {
    const box = document.createElement("div");
    box.className = "input-box";
    box.innerHTML = `
      <input id="contactField" placeholder="Type hereâ€¦ (only if you want)">
      <div class="reply-wrap" style="margin-top:10px">
        <button class="reply" onclick="submitContact()">Continue</button>
        <button class="reply" style="background:#eee;color:#555;box-shadow:none"
          onclick="skipContact()">Skip</button>
      </div>
    `;
    chat.appendChild(box);
    chat.scrollTop = chat.scrollHeight;
  }, 600);
}

function submitContact() {
  const field = document.getElementById("contactField");
  const value = field.value.trim();
  if (!value) return;

  field.parentElement.remove();
  user(value);

  typing(() => {
   document.getElementById("bunny").setSpeed(1.5);
   setTimeout(() => {
  document.getElementById("bunny").setSpeed(1);
}, 1000);
    bot("Nice ðŸ™‚");
    bot("That was smooth.");
    bot("Hope you have a great day.");
  });
}

function skipContact() {
  document.querySelector(".input-box").remove();
  typing(() => {
    bot("Thatâ€™s completely okay.");
    bot("Thanks for giving this a moment.");
  });
}

/* SCRIPT START */
/* SCRIPT START */

// Helper to ask with buttons
function ask(text, options) {
  bot(text);
  replies(options);
}

// START
ask("Hey ðŸ˜Š", [
  { text: "Hello ðŸ‘‹", next: stepRandom },
  { text: "Hii ðŸ˜„", next: stepRandom }
]);

function stepRandom() {
  ask("This might feel a little randomâ€¦", [
    { text: "Yeah", next: stepFeeling },
    { text: "Iâ€™m listening", next: stepFeeling }
  ]);
}

function stepFeeling() {
  ask("Before anything else â€” how are you feeling right now?", [
    { text: "Pretty good", next: feelingGood },
    { text: "A bit nervous", next: feelingNervous },
    { text: "Just curious", next: feelingCurious }
  ]);
}

// FEELING REPLIES
function feelingGood() {
  bot("Very nice ðŸ˜Š");
  stepName();
}

function feelingNervous() {
  bot("Donâ€™t be nervous, Iâ€™m right here with you ðŸ˜‰");
  stepName();
}

function feelingCurious() {
  bot("Thatâ€™s nice ðŸ™‚");
  stepName();
}

// NAME
function stepName() {
  bot("By the way, Iâ€™m Abhi.\nWhatâ€™s your good name?");
  setTimeout(() => {
    const box = document.createElement("div");
    box.className = "input-box";
    box.innerHTML = `
      <input id="nameField" placeholder="Type your name">
      <div class="reply-wrap" style="margin-top:10px">
        <button class="reply" onclick="submitName()">Submit</button>
        <button class="reply" style="background:#eee;color:#555;box-shadow:none"
          onclick="skipName()">Iâ€™d rather not say</button>
      </div>
    `;
    chat.appendChild(box);
    chat.scrollTop = chat.scrollHeight;
  }, 500);
}

function submitName() {
  const val = document.getElementById("nameField").value.trim();
  if (!val) return;
  document.querySelector(".input-box").remove();
  user(val);
  bot("Thatâ€™s a very beautiful name ðŸ˜Š");
  stepPlace();
}

function skipName() {
  document.querySelector(".input-box").remove();
  bot("Thatâ€™s totally fine, no pressure at all.");
  stepPlace();
}

// PLACE
function stepPlace() {
  bot("Where are you living right now?");
  setTimeout(() => {
    const box = document.createElement("div");
    box.className = "input-box";
    box.innerHTML = `
      <input id="placeField" placeholder="Your city / place">
      <div class="reply-wrap" style="margin-top:10px">
        <button class="reply" onclick="submitPlace()">Submit</button>
        <button class="reply" style="background:#eee;color:#555;box-shadow:none"
          onclick="skipPlace()">I donâ€™t want to tell</button>
      </div>
    `;
    chat.appendChild(box);
    chat.scrollTop = chat.scrollHeight;
  }, 500);
}

function submitPlace() {
  const val = document.getElementById("placeField").value.trim();
  if (!val) return;
  document.querySelector(".input-box").remove();
  user(val);
  bot("Nice ðŸ™‚");
  stepDay();
}

function skipPlace() {
  document.querySelector(".input-box").remove();
  bot("Thatâ€™s okay.");
  stepDay();
}

// DAY
function stepDay() {
  ask("What kind of day has it been so far?", [
    { text: "Itâ€™s good", next: dayGood },
    { text: "Itâ€™s normal", next: dayNormal },
    { text: "Itâ€™s bad", next: dayBad }
  ]);
}

function dayGood() {
  bot("Thatâ€™s good ðŸ˜Š\nWe just met â€” maybe that makes it even better.");
  stepContinue();
}

function dayNormal() {
  bot("Normal days are fine too.\nMaybe I can help make it a little better ðŸ™‚");
  stepContinue();
}

function dayBad() {
  bot("Ohâ€¦ thatâ€™s not nice.\nIâ€™ll try to make it a better day for you from now on.");
  stepContinue();
}

// CONTINUE
function stepContinue() {
  ask("Should we continue this somewhere else?", [
    { text: "Sure", next: choosePlatform }
  ]);
}

function choosePlatform() {
  ask("Where would you like to continue?", [
    { text: "Instagram", next: () => contactInput("Instagram") },
    { text: "WhatsApp", next: () => contactInput("WhatsApp") }
  ]);
}
</script>

</body>
</html>






